{% set image = row.file.first() %}
{% set size = row.size %}
{% set caption = row.caption %}

<div class="row row--margin fade-in row__image row__image--{{ size }}">
    
    {% if image %}

        {% switch size %}
            
            {% case 'large' %}
            
            <div class="">
                {{ img( image ) }}
                {% if caption %}<div class="row__caption">{{ caption }}</div>{% endif %}
            </div>
            
            {% case 'medium' %}
            
            <div class="m-col-12 l-col-6 l-off-3">
                {{ img( image, [ 1, 0.5, 0.5 ] ) }}
                {% if caption %}<div class="row__caption">{{ caption }}</div>{% endif %}
            </div>
            
            {% case 'small' %}
            
            <div class="l-col-4 l-off-4">
                {{ img( image, [ 1, 1, 1/3 ] ) }}
                {% if caption %}<div class="row__caption">{{ caption }}</div>{% endif %}
            </div>
            
        {% endswitch %}

    {% else %}
        
        Image missing
        
    {% endif %}
    
</div>